<!DOCTYPE html>
<html lang="en">
<!-- Previous head content remains the same until the new styles -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gents Haircut</title>
    <style>
        /* Previous styles remain the same until flying-person */

        .flying-person {
            position: fixed;
            width: 100px;
            height: auto;
            z-index: 1000;
            cursor: pointer;
            transition: transform 0.1s ease-out;
        }

        .flying-person.pop {
            animation: popAnimation 0.3s ease-out forwards;
        }

        @keyframes popAnimation {
            0% {
                transform: scale(1) rotate(0deg);
                opacity: 1;
            }
            50% {
                transform: scale(1.5) rotate(180deg);
                opacity: 0.5;
            }
            100% {
                transform: scale(0) rotate(360deg);
                opacity: 0;
            }
        }

        @keyframes flyAcross {
            0% {
                transform: translate(-120px, 0) rotate(0deg);
            }
            100% {
                transform: translate(calc(100vw + 120px), 0) rotate(360deg);
            }
        }

        /* Rest of the previous styles remain the same */

    </style>
</head>
<body>
    <!-- Previous HTML content remains the same -->

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const backgroundSound = document.getElementById('background-sound');
            backgroundSound.volume = 0.1;
            backgroundSound.play().catch(() => {
                console.log('Auto-play prevented');
            });

            function createFlyingPerson() {
                const person = document.createElement('img');
                person.src = 'person.png';
                person.className = 'flying-person';
                
                const verticalPosition = Math.random() * (window.innerHeight - 100);
                person.style.top = verticalPosition + 'px';
                
                const duration = 2 + Math.random() * 2;
                person.style.animation = `flyAcross ${duration}s linear`;
                
                // Add click handler for popping
                person.addEventListener('click', () => {
                    // Play a pop sound if available
                    const smokeSound = document.getElementById('smoke-sound');
                    smokeSound.currentTime = 0;
                    smokeSound.play().catch(() => {});
                    
                    // Add pop animation
                    person.style.animation = 'none';
                    person.classList.add('pop');
                    
                    // Remove after pop animation
                    setTimeout(() => {
                        person.remove();
                    }, 300);
                });
                
                document.body.appendChild(person);
                
                // Remove if not popped by end of animation
                person.addEventListener('animationend', () => {
                    if (!person.classList.contains('pop')) {
                        person.remove();
                    }
                });
            }

            // Create flying person more frequently (every 2-4 seconds)
            function spawnPeople() {
                setInterval(() => {
                    createFlyingPerson();
                }, 2000 + Math.random() * 2000); // Random delay between 2-4 seconds
            }

            // Initial spawn
            spawnPeople();

            // Original smoke sound interval (kept for audio variety)
            function playSmokeSoundRandomly() {
                setInterval(() => {
                    const delay = Math.random() * (10000 - 5000) + 5000; // Reduced to 5-10 seconds
                    setTimeout(() => {
                        const smokeSound = document.getElementById('smoke-sound');
                        smokeSound.play().catch(() => {
                            console.log('Smoke sound prevented');
                        });
                        createFlyingPerson(); // Extra spawn with smoke sound
                    }, delay);
                }, 10000);
            }

            playSmokeSoundRandomly();
        });

        // Previous showResult function remains the same

    </script>
</body>
</html>
